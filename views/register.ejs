<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Here</title>
    <link rel="icon" href="./images/logo.png">
    <link rel="stylesheet" type="text/css" href="/css/index.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background-color: #f4f4f4;
        }

        .register-body {
            padding: 20px;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="/css/index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Paytone+One&family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
</head>

<body class="register-body">

    <nav>
        <img src="./images/logo.png" class="logo" alt="Logo" title="FirstFlight Travels">

        <ul class="navbar">
            <li>
                <a href="/">Home</a>
                <a href="/#locations">Locations</a>
                <a href="/#package">Packages</a>
                <a href="./about">About Us</a>
                <a href="./contact">Contact Us</a>
            </li>
        </ul>
    </nav>

    <section class="registration">
        <div class="register-form container mt-4">
            <h1>Register <span>Here</span></h1>
            <form action="/register" method="post" onsubmit="return validateform()">
                <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                <input type="text" name="name" placeholder="Name" id="name" required>
                <input type="email" name="email" placeholder="Email-Id" id="" required>
                <input type="tel" name="phone" placeholder="Phone No." id="phonenum" required>
                <input type="text" name="age" placeholder="Age" id="" required>
                <h4>Gender</h4>
                <input type="radio" name="gender" id="male" value="male" required> Male &nbsp; &nbsp; &nbsp; &nbsp;
                &nbsp; &nbsp;
                <input type="radio" name="gender" id="female" value="female" required> Female
                <h4>Departure</h4>
                <div>
                    <label for="date" class="block text-sm font-medium text-gray-700">Date</label>
                    <input type="date" id="date" name="departuredate" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 p-2" onchange="validateDate()">
                    <p id="date-error" class="text-red-500 text-sm mt-1 hidden">Please select a valid date in the future.</p>
                </div>
                <h4>Return</h4>
                <div>
                    <label for="date" class="block text-sm font-medium text-gray-700">Date</label>
                    <input type="date" id="date" name="returndate" required class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 p-2" onchange="validateDate()">
                    <p id="date-error" class="text-red-500 text-sm mt-1 hidden">Please select a valid date in the future.</p>
                </div>
                <h4>Travel Destination</h4>
                <input type="checkbox" name="destination" id="kashmir" value="National Museum"> National Museum &nbsp; &nbsp; &nbsp;
                <input type="checkbox" name="destination" id="puri" value="Victorial Museum"> Victorial Museum &nbsp; &nbsp; &nbsp;
                <input type="checkbox" name="destination" id="siridi" value="Indian Museum"> Indian Museum &nbsp; &nbsp; &nbsp;
                <input type="checkbox" name="destination" id="Varanasi" value="Government Museum"> Government Museum &nbsp; &nbsp; &nbsp;
                <input type="checkbox" name="destination" id="Mumbai" value="Calio Museum"> Calio Museum &nbsp; &nbsp; &nbsp; &nbsp;
                &nbsp;
                <input type="checkbox" name="destination" id="Sikkim" value="Sikkim Museum"> Sikkim Museum &nbsp; &nbsp; &nbsp;
                <input type="checkbox" name="destination" id="Tirupati" value="Dr Bhau Lad Jii"> Dr Bhau Lad Jii &nbsp; &nbsp; &nbsp;
                <input type="checkbox" name="destination" id="Similipal" value="Salar Museum"> Salar Museum &nbsp; &nbsp;
                &nbsp;
                <br> <br>
                <h4>Package</h4>
                <input type="radio" name="package" id="bronze" value="bronze" required> Bronze &nbsp; &nbsp; &nbsp;
                <input type="radio" name="package" id="silver" value="silver"> Silver &nbsp; &nbsp; &nbsp;
                <input type="radio" name="package" id="gold" value="gold"> Gold &nbsp; &nbsp; &nbsp;
                <input type="radio" name="package" id="platinum" value="platinum"> Platinum &nbsp; &nbsp; &nbsp;
                <br> <br>
                <input type="text" name="resid" id="resid" hidden value="<%= user %>">

                <input type="checkbox" name="t_and_c" id="t_and_c" checked required> I accept the Terms & Conditions.
                <br> <br>
                <input type="submit" value="Submit" class="submitbtn">
                <a href="/"><input type="button" value="Cancel" class="btn btn-danger" id="cnlbtn"></a>
            </form>
        </div>
    </section>
    <script>
        function validateform() {
            var tel = document.getElementById("phonenum").value;

            if (tel.length < 10) {
                alert("Phone number must be at least 10 digits!");
                return false;
            } else if (isNaN(tel)) {
                alert("Phone number should not include characters!");
                return false;
            }
            return true;
        }  
        function validateDate() {
            const selectedDate = new Date(dateInput.value);
            const today = new Date();
            today.setHours(0, 0, 0, 0); // Set time to midnight for comparison

            if (selectedDate <= today) {
                dateError.classList.remove('hidden');
                return false;
            } else {
                dateError.classList.add('hidden');
                return true;
            }
        }
    </script>
</body>

</html>